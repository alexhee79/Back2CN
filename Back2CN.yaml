# BacktoCN
port: 7890
socks-port: 7891
allow-lan: true
mode: Rule
log-level: info
external-controller: 127.0.0.1:9090

proxies:
  - {name: HK 1, server: hk.vc3.hyperlinkvpn.xyz, port: 52000, type: trojan, password: 0aa9e572-ca8b-4d2c-bef6-501fc3eacbb8, skip-cert-verify: true, udp: true}
  - {name: HK 2, server: 20.187.95.117, port: 8443, type: trojan, password: 190e2a95-63f0-4a9c-9aef-9f2ec6e542de, skip-cert-verify: true, udp: true}
  - {name: HK 3, server: 223.17.43.52, port: 44601, type: trojan, password: dbdd4673-06e7-4a53-adb7-aa4232df529e, skip-cert-verify: true, udp: true}
  - {name: HK 4, server: 47.242.187.154, port: 38838, type: vmess, uuid: 383e161c-7fff-4a6f-f8f5-08c303e5429b, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: "", udp: true}
  - {name: IN 1, server: in-01.licom.ml, port: 8443, type: trojan, password: ce433528-39fa-4711-bc0d-25a5b1579574, skip-cert-verify: true, udp: true}
  - {name: IN 2, server: jgwhdlb3.gaox.ml, port: 443, type: trojan, password: 006baa3f-4bc3-4915-b60d-c8c5dae11a11, skip-cert-verify: true, udp: true}
  - {name: IN 3, server: jgwhdlb2.gaox.ml, port: 443, type: trojan, password: 54080134-2cba-4535-8599-95650bd9aa54, skip-cert-verify: true, udp: true}
  - {name: IN 4, server: jgwhdlb1.gaox.ml, port: 443, type: trojan, password: e05c749b-7c6b-41b8-9c71-9dcf685edf4a, skip-cert-verify: true, udp: true}

proxy-groups:
  - name: PROXY
    type: select
    proxies:
     - CHINA
     - HK 1
     - HK 2
     - HK 3
     - HK 4
     - IN 1
     - IN 2
     - IN 3
     - IN 4
  - name: AUTOMATIC
    type: url-test
    url: https://www.google.com/generate_204
    interval: 300
    tolerance: 50
    proxies:
     - CHINA
     - HK 1
     - HK 2
     - HK 3
     - HK 4
     - IN 1
     - IN 2
     - IN 3
     - IN 4
  - name: AUTO-FALLBACK
    type: fallback
    url: https://www.google.com/generate_204
    interval: 300
    tolerance: 50
    proxies:
     - CHINA
     - HK 1
     - HK 2
     - HK 3
     - HK 4
     - IN 1
     - IN 2
     - IN 3
     - IN 4
  - name: CHINA
    type: url-test
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    use:
      - CN
  - name: XIAOMI
    type: select
    proxies:
      - AUTO-FALLBACK
      - AUTOMATIC
      - PROXY
      - GLOBAL-CONNECT
  - name: CHINA-MUSIC
    type: select
    proxies:
      - AUTO-FALLBACK
      - AUTOMATIC
      - PROXY
      - GLOBAL-CONNECT
  - name: CHINA-IP
    type: select
    proxies:
      - GLOBAL-CONNECT
      - AUTO-FALLBACK
      - AUTOMATIC
  - name: GLOBAL-CONNECT
    type: select
    proxies:
      - DIRECT
      - REJECT 
proxy-providers:
  CN:
    type: http
    url: "https://proxy.yiun.xyz/clash/proxies?c=CN,HK,TW"
    path: proxy.yiun.xyz/provider-cn.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204

rules:
  # XIAOMI
  - DOMAIN-KEYWORD,xiaomi,XIAOMI
  - DOMAIN-SUFFIX,mi.com,XIAOMI
  - DOMAIN-SUFFIX,xiaomi.com,XIAOMI
  - DOMAIN-SUFFIX,xiaomi.net,XIAOMI
  - DOMAIN-SUFFIX,xiaomi.cn,XIAOMI
  - DOMAIN-SUFFIX,xiaomicp.com,XIAOMI
  - DOMAIN-SUFFIX,miwifi.com,XIAOMI
  - DOMAIN-SUFFIX,iotcplatform.com,XIAOMI
  
  # CHINA-MUSIC
  - DOMAIN-SUFFIX,126.net,CHINA-MUSIC
  - DOMAIN-SUFFIX,music.163.com,CHINA-MUSIC
  - DOMAIN-SUFFIX,music.qq.com,CHINA-MUSIC
  - DOMAIN-SUFFIX,tc.qq.com,CHINA-MUSIC
  
  # Others
  - GEOIP,CN,CHINA-IP
  - MATCH,GLOBAL-CONNECT
