port: 7890
socks-port: 7891
allow-lan: true
mode: Rule
log-level: info
external-controller: 127.0.0.1:9090
dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:53
  enhanced-mode: redir-host
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "*.lan"
  nameserver:
    - 1.1.1.1
    - 8.8.8.8
  fallback:
    - 223.5.5.5
    - 1.2.4.8
    - 114.114.114.114
    - tls://dns.rubyfish.cn:853
  fallback-filter:
    geoip: true
    ipcidr:
      - 240.0.0.0/4
proxies:
  - {name: CN 10, server: aiavnd1.vip.www.klrxyru.cn, port: 1611, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 11, server: bgphk6.vip.www.klrxyru.cn, port: 579, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 12, server: bgphka.vip.www.klrxyru.cn, port: 583, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 13, server: bgphk7.vip.www.klrxyru.cn, port: 580, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 14, server: aiaph1.www.klrxyru.cn, port: 1641, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 15, server: bgphk8.vip.www.klrxyru.cn, port: 581, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 16, server: shkr2.vip.www.klrxyru.cn, port: 1552, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: 8d83584393.wns.windows.com, udp: true}
  - {name: CN 17, server: qdcukr1.vip.www.klrxyru.cn, port: 1551, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: 8d83584393.wns.windows.com, udp: true}
  - {name: CN 18, server: relayus2.vip.www.klrxyru.cn, port: 1402, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 19, server: relayus1.vip.www.klrxyru.cn, port: 1401, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 1, server: aiaus1.game.www.klrxyru.cn, port: 1420, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 20, server: hnyd.52147.top, port: 30010, type: trojan, password: c35ff7bd-3596-48df-8cfc-41f8c576ab4e, sni: download.windowsupdate1.com, skip-cert-verify: true, udp: true}
  - {name: CN 21, server: relayus3.vip.www.klrxyru.cn, port: 1403, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 22, server: aiade1.vip.www.klrxyru.cn, port: 1621, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 23, server: hnyd.52147.top, port: 30130, type: trojan, password: c35ff7bd-3596-48df-8cfc-41f8c576ab4e, sni: download.windowsupdate1.com, skip-cert-verify: true, udp: true}
  - {name: CN 24, server: gzyd2.52147.top, port: 30010, type: trojan, password: c35ff7bd-3596-48df-8cfc-41f8c576ab4e, sni: download.windowsupdate1.com, skip-cert-verify: true, udp: true}
  - {name: CN 25, server: relayus4.vip.www.klrxyru.cn, port: 1404, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: 8d83584393.wns.windows.com, udp: true}
  - {name: CN 26, server: aiabjfr1.www.klrxyru.cn, port: 1461, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 27, server: 119.36.161.40, port: 443, type: trojan, password: fb57cd30-f938-11ec-8908-1239d0255272, sni: trojan2.udpgw.com, skip-cert-verify: true, udp: true}
  - {name: CN 28, server: aiaru1.www.klrxyru.cn, port: 1601, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 29, server: aiashbr1.www.klrxyru.cn, port: 1631, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 2, server: aiasgp1.game.www.klrxyru.cn, port: 1520, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 30, server: aiashar1.www.klrxyru.cn, port: 1651, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 31, server: bgphk9.vip.www.klrxyru.cn, port: 582, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 32, server: bgphk4.vip.www.klrxyru.cn, port: 577, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 33, server: bgphk5.vip.www.klrxyru.cn, port: 578, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 34, server: bgphk2.vip.www.klrxyru.cn, port: 575, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 35, server: hnyd.52147.top, port: 30080, type: trojan, password: c35ff7bd-3596-48df-8cfc-41f8c576ab4e, sni: download.windowsupdate1.com, skip-cert-verify: true, udp: true}
  - {name: CN 36, server: hnyd.52147.top, port: 30120, type: trojan, password: c35ff7bd-3596-48df-8cfc-41f8c576ab4e, sni: download.windowsupdate1.com, skip-cert-verify: true, udp: true}
  - {name: CN 37, server: shuk2.vip.www.klrxyru.cn, port: 1352, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 38, server: cucsuk1.vip.www.klrxyru.cn, port: 1351, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 39, server: bgphk1.vip.www.klrxyru.cn, port: 574, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 3, server: aiajp1.game.www.klrxyru.cn, port: 1460, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 40, server: bgphk3.vip.www.klrxyru.cn, port: 576, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 41, server: gzyd1.52147.top, port: 30010, type: trojan, password: c35ff7bd-3596-48df-8cfc-41f8c576ab4e, sni: download.windowsupdate1.com, skip-cert-verify: true, udp: true}
  - {name: CN 42, server: 14.29.124.168, port: 24009, type: ss, cipher: aes-128-cfb, password: QazEdcTgb159@$*, udp: true}
  - {name: CN 43, server: 14.29.124.168, port: 24006, type: ss, cipher: aes-128-cfb, password: QazEdcTgb159@$*, udp: true}
  - {name: CN 44, server: 14.29.124.168, port: 24001, type: ss, cipher: aes-128-cfb, password: QazEdcTgb159@$*, udp: true}
  - {name: CN 45, server: yd-03.paofunlink.com, port: 1088, type: ssr, cipher: chacha20-ietf, password: bxsnucrgk6hfish, protocol: auth_aes128_sha1, obfs: plain, protocol-param: 115989:JbCUPq, obfs-param: 6f9d8115989.microsoft.com, udp: true}
  - {name: CN 4, server: relayjp4.vip.www.klrxyru.cn, port: 1454, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 5, server: relayjp3.vip.www.klrxyru.cn, port: 1453, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 6, server: relayjp2.vip.www.klrxyru.cn, port: 1452, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 7, server: relaysgp2.vip.www.klrxyru.cn, port: 1502, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 8, server: relayjp1.vip.www.klrxyru.cn, port: 1451, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: CN 9, server: relaysgp1.vip.www.klrxyru.cn, port: 1501, type: ssr, cipher: chacha20-ietf, password: mtbv8n, protocol: auth_aes128_md5, obfs: plain, protocol-param: 84393:25lGIs, obfs-param: b43e313.wns.windows.com, udp: true}
  - {name: HK 1, server: tj-hk01.yiyodns.xyz, port: 443, type: trojan, password: 7dafe71e-2be6-302f-bdfc-e6319a3299bc, skip-cert-verify: true, udp: true}
  - {name: HK 2, server: hkt.52147.top, port: 28000, type: trojan, password: c35ff7bd-3596-48df-8cfc-41f8c576ab4e, sni: download.windowsupdate1.com, skip-cert-verify: true, udp: true}

proxy-groups:
  - name: PROXY
    type: select
    proxies:
    - GLOBAL-CONNECT
    - AUTOMATIC
    - CN 1
    - CN 2
    - CN 3
    - CN 4
    - CN 5
    - CN 6
    - CN 7
    - CN 8
    - CN 9
    - CN 10
    - CN 11
    - CN 12
    - CN 13
    - CN 14
    - CN 15
    - CN 16
    - CN 17
    - CN 18
    - CN 19
    - CN 20
    - CN 21
    - CN 22
    - CN 23
    - CN 24
    - CN 25
    - CN 26
    - CN 27
    - CN 28
    - CN 29
    - CN 30
    - CN 31
    - CN 32
    - CN 33
    - CN 34
    - CN 35
    - CN 36
    - CN 37
    - CN 38
    - CN 39
    - CN 40
    - CN 41
    - CN 42
    - CN 43
    - CN 44
    - CN 45
    - HK 1
    - HK 2
  - name: AUTOMATIC
    type: url-test
    url: https://www.google.com/generate_204
    interval: 300
    proxies:
    - CN 1
    - CN 2
    - CN 3
    - CN 4
    - CN 5
    - CN 6
    - CN 7
    - CN 8
    - CN 9
    - CN 10
    - CN 11
    - CN 12
    - CN 13
    - CN 14
    - CN 15
    - CN 16
    - CN 17
    - CN 18
    - CN 19
    - CN 20
    - CN 21
    - CN 22
    - CN 23
    - CN 24
    - CN 25
    - CN 26
    - CN 27
    - CN 28
    - CN 29
    - CN 30
    - CN 31
    - CN 32
    - CN 33
    - CN 34
    - CN 35
    - CN 36
    - CN 37
    - CN 38
    - CN 39
    - CN 40
    - CN 41
    - CN 42
    - CN 43
    - CN 44
    - CN 45
    - HK 1
    - HK 2
  - name: CHINA
    type: url-test
    url: https://www.google.com/generate_204
    interval: 300
    proxies:
    - CN 1
    - CN 2
    - CN 3
    - CN 4
    - CN 5
    - CN 6
    - CN 7
    - CN 8
    - CN 9
    - CN 10
    - CN 11
    - CN 12
    - CN 13
    - CN 14
    - CN 15
    - CN 16
    - CN 17
    - CN 18
    - CN 19
    - CN 20
    - CN 21
    - CN 22
    - CN 23
    - CN 24
    - CN 25
    - CN 26
    - CN 27
    - CN 28
    - CN 29
    - CN 30
    - CN 31
    - CN 32
    - CN 33
    - CN 34
    - CN 35
    - CN 36
    - CN 37
    - CN 38
    - CN 39
    - CN 40
    - CN 41
    - CN 42
    - CN 43
    - CN 44
    - CN 45
    - HK 1
    - HK 2
  - name: HONG-KONG
    type: url-test
    url: https://www.google.com/generate_204
    interval: 300
    proxies:
      - HK 1
      - HK 2
  - name: XIAOMI
    type: select
    proxies:
      - AUTOMATIC
      - PROXY
      - CHINA
      - HONG-KONG
      - GLOBAL-CONNECT
  - name: CHINA-MUSIC
    type: select
    proxies:
      - AUTOMATIC
      - PROXY
      - CHINA
      - HONG-KONG
      - GLOBAL-CONNECT
  - name: CHINA-IP
    type: select
    proxies:
      - AUTOMATIC
      - PROXY
      - CHINA
      - HONG-KONG
      - GLOBAL-CONNECT
  - name: GLOBAL-CONNECT
    type: select
    proxies:
      - DIRECT
      - REJECT
      
cfw-bypass:
  - localhost
  - 127.*
  - 10.*
  - 172.16.*
  - 172.17.*
  - 172.18.*
  - 172.19.*
  - 172.20.*
  - 172.21.*
  - 172.22.*
  - 172.23.*
  - 172.24.*
  - 172.25.*
  - 172.26.*
  - 172.27.*
  - 172.28.*
  - 172.29.*
  - 172.30.*
  - 172.31.*
  - 192.168.*
  - <local>
  
rules:
  # XIAOMI
  - DOMAIN-KEYWORD,xiaomi,XIAOMI
  - DOMAIN-SUFFIX,mi.com,XIAOMI
  - DOMAIN-SUFFIX,xiaomi.com,XIAOMI
  - DOMAIN-SUFFIX,xiaomi.net,XIAOMI
  - DOMAIN-SUFFIX,xiaomi.cn,XIAOMI
  - DOMAIN-SUFFIX,xiaomicp.com,XIAOMI
  - DOMAIN-SUFFIX,miwifi.com,XIAOMI
  
  # CHINA-MUSIC
  - DOMAIN-SUFFIX,126.net,CHINA-MUSIC
  - DOMAIN-SUFFIX,music.163.com,CHINA-MUSIC
  
  # Others
  - GEOIP,CN,CHINA-IP
  - MATCH,GLOBAL-CONNECT
